<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>マップイベントの仕組み</title>
<link href="../style.css" rel="stylesheet" type="text/css">
</head>


<body>

<h1>マップイベントの仕組み</h1>

<h2>マップイベントの処理の流れ</h2>

<dl>

<dt>●できごとの表現方法</dt>

<dd>
<p>マップイベントで表現するゲーム上のできごとは、“どこで（場所）、どんな場合に（出現条件）、どうすると（トリガー）、どうなる（実行内容）”という流れに沿って内容を定義できます。</p>
<p>人物のキャラクターやアイテムを入手できる宝箱などは、できごとの内容を定義したマップイベントにグラフィックを割り当てることで表現します。また建物の外と中のマップ間を移動する仕組みや、自動で進行する演出などの処理も、グラフィックを設定しないイベントで用意できます。</p>
<p>イベントを作成する際は、まずメインウィンドウのマップビューで“どこで（場所）”起こるかを決めます。その上で、そのイベントに“どんな場合に（出現条件）”以降の内容を設定します。</p>
</dd>

<dt><a name="key_mapevent_outline_eventpage">●内容を“場合分け”するイベントページ</a></dt>
<dd>
<p>マップイベントは、ゲームのプレイ状況に応じてできごとの中身を変えることができます。</p>
<p>これを担うのが“イベントページ”です。イベントページとは、イベントの内容を“場合分け”する仕組みです。ひとつのイベントには99個までのイベントページを持たせられ、それぞれに異なるグラフィックやトリガー、実行内容を設定できます。すなわち、ひとつのマップイベントは99通りのできごとに“場合分け”できます。</p>
</dd>

<dt><a name="key_mapevent_outline_condition">●出現条件でイベントページを制御</a></dt>
<dd>
<p>その“場合分け”したイベントページを、“どの場合に”適用するかを決めるのが［出現条件］の設定です。出現条件には“スイッチ”や“変数”（後述）の値、“指定のアイテムを持っているか”などを基準をもとに設定します。</p>
<p>マップイベントは、この出現条件を満たすイベントページの内容にもとづいてプレイ中のゲームに出現します。［出現条件］を満たすイベントページが複数あるときは、一番大きな番号のイベントページの設定にもとづいてマップに出現します。逆に［出現条件］を満たすイベントページがひとつもない場合、マップには出現しません。</p>
</dd>

</dl>

<h2>プレイ状況の把握方法</h2>

<dl>

<dt><a name="key_mapevent_outline_switch">●スイッチでプレイ状況を把握</a></dt>

<dd>
<p>イベントページの［出現条件］のうち、主にゲームのプレイ状況の判定に用いるのが“スイッチ”と“変数”です。</p>
<p>スイッチとは“ON”、“OFF”のどちらかの値を記録するものです。“王様の依頼を引き受けたか”、“ボス敵を倒したか”など、ゲームの状況や進み具合を把握するのに使います。</p>

<p>プレイするゲームは、すべてのスイッチの値が“OFF”の状態からスタートします。その上でゲームの局面を変えるイベントを実行したとき、［実行内容］で特定のスイッチの値を“ON”に変える処理を行ないます（［スイッチの操作］のイベントコマンドを使用）。</p>

<p>そのスイッチを他のイベントページの［出現条件］に使うことで、値が“ON”になったことを合図にマップイベントの内容を一斉に切り替えることができます。ゲームのストーリーは、このイベントの変化を通じてゲーム全体の局面を変えていくことで組み立てる仕組みです。</p>

</dd>

<dt><a name="key_mapevent_outline_variable">●数値を記録する変数</a></dt>

<dd>
<p>一方の“変数”は、任意の数値（整数）を記録するものです。ゲームのスタート時の値は0になっており、プレイの状況に合わせて任意の値を代入したり、別の値と足し合わせるなどの計算ができます（［スイッチの操作］のイベントコマンドを使用）。</p>
<p>この変数を使うことで、プレイヤーのHPや所持金などの値でできごとの内容を変えるなど、マップイベントの出現条件や結果を細かくコントロールできるようになります。</p>
</dd>

<dt>●スイッチと変数の管理</dt>

<dd>
<p>スイッチと変数は、ひとつのゲームでそれぞれ5000個まで使えます。どの番号のスイッチ／変数で、どんな状況を把握するかは作成者の自由です。両者の関係が混乱しないよう、用途がわかる名前を付けておきましょう。どちらも選択ウィンドウの［名前］の欄で設定できます。</p>
</dd>

<dt><a name="key_mapevent_outline_selfswitch">●自己完結型のイベントにはセルフスイッチを活用</a></dt>

<dd>
<p>マップイベントでは“セルフスイッチ”も使用できます。これは個々のマップイベントだけで使えるスイッチのことです。ひとつのイベントにつき“A”〜“D”の4種類のセルフスイッチに値を記録できます。</p>
<p>このセルフスイッチは、自身の処理のみで完結するイベントの状況把握に使います。たとえばアイテムを入手できる宝箱は、セルフスイッチで“開けたかどうか”を管理し、“開ける前”、“開けた後”の内容をふたつのイベントページに設定することで、初めて調べたときのみアイテムを入手できる仕組みを表現できます。</p>
</dd>

</dl>


<h6></h6>
</body>
</html>

