<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>マップデータの設定</title>
<link href="../style.css" rel="stylesheet" type="text/css">
</head>

<body>
<h1><a name="key_map_setting">マップデータの設定</a></h1>

<h2>データの設定内容</h2>

<p>マップの新しく作成するとき、またはマップの右クリックして［マップの設定］をクリックすると、マップデータの設定ウィンドウが表示されます。このウィンドウでは、マップの大きさやデザインに使うタイルセット、BGMや敵グループとのエンカウント（戦闘発生）の条件など、プレイ中のゲームにおける挙動を編集します。</p>

<h2>設定項目の内容</h2>

<div align="center"><img src="img/2140_01.png" alt="マップの設定"></div>

<dl>
<dt>●名前</dt>
<dd><p>マップの名前です。この設定はエディタのみで使用されます（プレイするゲームへの影響はありません）。</p></dd>

<dt>●表示名</dt>
<dd><p>プレイヤーがこのマップ上に移動したときに表示する名前です。</p></dd>

<dt>●幅／高さ</dt>
<dd><p>マップの大きさです。［幅］（横）は17〜500、［高さ］（縦）は13〜500で指定します。作成後にサイズを現在よりも小さくすると、はみ出す部分は削除されます。</p></dd>

<dt>●タイルセット</dt>
<dd><p>マップのデザインに用いるタイルセットを指定します。</p></dd>

<dt>●スクロールタイプ</dt>
<dd><p>マップのループ方法です。ループを設定すると、指定方向のマップの端同士がつながり、循環移動できるようになります。</p>
	<dl>
		<dt>ループしない</dt>
		<dd><p>ループ処理をしません。</p></dd>
		<dt>縦のみループする</dt>
		<dd><p>マップの上端と下端をつなげます。</p></dd>
		<dt>横のみループする</dt>
		<dd><p>マップの左端と右端をつなげます。</p></dd>
		<dt>縦横のみループする</dt>
		<dd><p>マップの上端と下端、左端と右端をそれぞれつなげます。</p></dd>
	</dl>
</dd>

<dt><a name="battlebg">●戦闘背景指定</a></dt>
<dd>
	<img src="img/2140_03.png" alt="戦闘背景指定" class="float_r">
	<p>有効にすると、このマップ上でバトルが発生したときの戦闘背景を、２種類のグラフィックの組み合わせで指定できます。</p>
	<p>無効にした場合、このマップに設定された［タイルセット］の<a href="3310_db_tileset.html#mode">［モード］</a>によって処理が変わります。</p><br>
	<dl>
		<dt>モードが［フィールドタイプ］</dt>
		<dd><p>バトル発生時のプレイヤーの足元のタイルによって、自動的に戦闘背景が決まります。</p></dd>
		<dt>モードが［エリアタイプ］または［VX互換タイプ］</dt>
		<dd><p>エフェクトを施したマップが戦闘背景になります。</p></dd>
	</dl>
</dd>

<dt>●BGM自動切り替え／BGS自動切り替え</dt>
<dd>
	<p>有効にすると、プレイヤーがこのマップに存在するときに、自動でBGM（背景音楽）／BGS（背景音）の再生を開始します。それぞれ再生する音楽ファイルを指定します。</p>
</dd>

<dt>●ダッシュを禁止する</dt>
<dd><p>有効にすると、このマップ上でプレイヤーがダッシュ移動できなくなります。</p></dd>

<dt>●遠景</dt>
<dd><p>マップの空白部分に表示するグラフィックです。［…］をクリックすると開くウィンドウで画像ファイルを指定します。</p>
<p>［横方向にループする］［縦方向にループする］を有効にすると、プレイヤーの移動方向に合わせて遠景がスクロール表示します。また［自動スクロール］に0以外の値（-32〜32）を指定すると、自動でスクロールします。正の値なら左／上、負の値なら右／下にスクロールし、絶対値が大きいほど速度が速くなります。</p>
<p>［マップエディタに表示する］を有効にすると、設定した遠景をエディター上で確認できます。ただし実際のプレイ画面とは表示の仕方が異なることがあります。</p></dd>

<dt>●メモ</dt>
<dd><p>ゲーム作成上のメモを自由に入力できます。内容はエディタのみで使用されます（プレイするゲームへの影響はありません）。</p></dd>

<dt><a name="key_map_setting_encounter">●エンカウント</a></dt>
<dd>
<img src="img/2140_04.png" alt="エンカウント" class="float_r">
<p>プレイヤーがこのマップを移動中に、ランダムで出現する敵グループです。欄内の空白をダブルクリックすると開くウィンドウで、以下の内容を指定します。登録した敵グループの項目を右クリックすると、コンテキストメニューでコピーや削除などの操作が行なえます。</p>

<dl>
<dt>敵グループ</dt>
<dd><p>設定する敵グループを指定します。</p></dd>

<dt>重み</dt>
<dd><p>エンカウントの際、この敵グループが戦闘相手として出現する優先度（0〜100）を指定します。複数の敵グループが設定されている場合、この値が大きいほど敵グループほど出現確率が高くなります。</p>
<p>具体的には、設定された敵グループの重みの合計値に占める割合で出現確率が算出されます。<br>
たとえば、Aグループに9、Bグループに7、Cグループに4と重みを設定したとします。この場合、Aグループの出現確率は、9/20(重みの合計である9+7+4の値)で0.45、つまり45%です。同様にして、Bは7/20で35%、Cは4/20で20%の出現確率となります。</p>
</dd>

<dt>出現範囲</dt>
<dd><p>この敵グループが出現する地域です。地域に関係なく出現させる場合は［マップ全域］を指定します。特定の地域のみに出現させるには［リージョンIDで指定］を選び、リージョンのID（3つまで）を指定します。リージョンの設定方法は下記をご覧ください。</p></dd>
</dl>
</dd>

<dt>●平均エンカウント歩数</dt>
<dd><p>マップ上の移動中にエンカウントが発生する頻度を、平均移動歩数（1〜999／1歩はタイル1個ぶんの移動距離）で指定します。頻繁にモンスターを出現させたい場合は値を小さくします。</p></dd>
</dl>

<h2><a name="key_map_setting_region">リージョンの設定方法</a></h2>

<img src="img/2140_02.png" alt="リージョン" class="float_r">
<p>マップデータの［エンカウント］の設定で指定する“リージョン”とは、敵グループの出現地域を指し示すものです。ひとつのマップは63のリージョンに区分けできます。</p>
<p>設定するには、ツールバーの［リージョン］のボタン（またはメニューの［モード］→［リージョン］）をクリックして編集モードを切り替えます。そのうえでウィンドウの左上でリージョンのID（1〜63の番号）をクリックで選択し、マップビュー上をクリックすると、その位置のタイルにリージョンが設定されます。一地点（タイル）に設定できるリージョンIDはひとつのみです。</p>

<h6></h6>
</body>
</html>
