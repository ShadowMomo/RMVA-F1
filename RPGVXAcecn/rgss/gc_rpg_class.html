<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML lang=en><HEAD><TITLE>RPG::Class</TITLE>
<META content="text/html; charset=ISO-8859-1" http-equiv=Content-Type>
<META content=text/css http-equiv=Content-Style-Type><LINK rel=stylesheet 
type=text/css href="../style.css">
<META name=GENERATOR content="MSHTML 9.00.8112.16447"></HEAD>
<BODY>
<H1>RPG::Class</H1>
<P>&#32844;&#19994;&#30340;&#25968;&#25454;&#31867;&#12290;</P>
<H2>&#36229;&#31867;</H2>
<UL>
  <LI><A href="gc_rpg_baseitem.html">RPG::BaseItem</A> </LI></UL>
<H2>&#23646;&#24615;</H2>
<DL>
  <DT>exp_params 
  <DD>
  <P>&#23384;&#20648;&#32463;&#39564;&#20540;&#26354;&#32447;&#30340;&#25968;&#32452;&#65292;&#26684;&#24335;&#22914;&#19979;:</P>
  <UL>
    <LI>0: &#22522;&#30784;&#20540; 
    <LI>1:&nbsp;&#20462;&#27491;&#20540; 
    <LI>2:&nbsp;&#22686;&#21152;&#24230; A 
    <LI>3:&nbsp;&#22686;&#21152;&#24230; B </LI></UL>
  <DT>params 
  <DD>
  <P>&#33021;&#21147;&#20540;&#25104;&#38271;&#26354;&#32447;&#65292;&#35760;&#24405;&#27599;&#19968;&#31561;&#32423;&#22522;&#26412;&#23646;&#24615;&#30340;&#20108;&#32500;&#25968;&#32452; &#65288;<A href="gc_table.html">Table &#34920;&#26684;&#31867;</A>&nbsp;&#65289;&#12290;</P>
  <P>&#20854;&#25968;&#25454;&#32467;&#26500;&#20026;[<VAR>param_id</VAR>, <VAR>level</VAR>]&#65292;param_id &#20195;&#34920;&#23646;&#24615;&#31867;&#22411;&#65292;level 
  &#21017;&#20195;&#34920;&#31561;&#32423;&#65292;&#23646;&#24615;&#31867;&#22411;&#30340;&#20195;&#21495;&#22914;&#19979;:</P>
  <UL>
    <LI>0: &#20307;&#21147;&#19978;&#38480; 
    <LI>1: &#39764;&#21147;&#19978;&#38480; 
    <LI>2:&nbsp;&#29289;&#29702;&#25915;&#20987; 
    <LI>3:&nbsp;&#29289;&#29702;&#38450;&#24481; 
    <LI>4:&nbsp;&#39764;&#27861;&#25915;&#20987; 
    <LI>5:&nbsp;&#39764;&#27861;&#38450;&#24481; 
    <LI>6:&nbsp;&#25935;&#25463;&#20540; 
    <LI>7:&nbsp;&#24184;&#36816;&#20540; </LI></UL>
  <DT>learnings 
  <DD>
  <P>&#25216;&#33021;&#23398;&#20064;&#21015;&#34920; <A 
  href="gc_rpg_class_learning.html">RPG::Class::Learning</A>&nbsp;&#12290;</P></DD></DL>
<H2>&#26041;&#27861;</H2>
<DL>
  <DT>exp_for_level(<VAR>level</VAR>) 
  <DD>
  <P>&#35745;&#31639;&#24182;&#36820;&#22238;&#24403;&#21069;&#31561;&#32423;&#21040;&#21442;&#25968;&#35774;&#32622;&#31561;&#32423;&#65292;&#25152;&#38656;&#32463;&#39564;&#30340;&#24635;&#21644;&#12290;</P></DD></DL>
<H2>&#20869;&#37096;&#31867;</H2>
<UL>
  <LI><A href="gc_rpg_class_learning.html">RPG::Class::Learning</A> </LI></UL>
<H2>&#23450;&#20041;</H2><PRE>class RPG::Class &lt; RPG::BaseItem
  def initialize
    super
    @exp_params = [30,20,30,30]
    @params = Table.new(8,100)
    (1..99).each do |i|
      @params[0,i] = 400+i*50
      @params[1,i] = 80+i*10
      (2..5).each {|j| @params[j,i] = 15+i*5/4 }
      (6..7).each {|j| @params[j,i] = 30+i*5/2 }
    end
    @learnings = []
    @features.push(RPG::BaseItem::Feature.new(23, 0, 1))
    @features.push(RPG::BaseItem::Feature.new(22, 0, 0.95))
    @features.push(RPG::BaseItem::Feature.new(22, 1, 0.05))
    @features.push(RPG::BaseItem::Feature.new(22, 2, 0.04))
    @features.push(RPG::BaseItem::Feature.new(41, 1))
    @features.push(RPG::BaseItem::Feature.new(51, 1))
    @features.push(RPG::BaseItem::Feature.new(52, 1))
  end
  def exp_for_level(level)
    lv = level.to_f
    basis = @exp_params[0].to_f
    extra = @exp_params[1].to_f
    acc_a = @exp_params[2].to_f
    acc_b = @exp_params[3].to_f
    return (basis*((lv-1)**(0.9+acc_a/250))*lv*(lv+1)/
      (6+lv**2/50/acc_b)+(lv-1)*extra).round.to_i
  end
  attr_accessor :exp_params
  attr_accessor :params
  attr_accessor :learnings
end
</PRE>
<H6></H6></BODY></HTML>
