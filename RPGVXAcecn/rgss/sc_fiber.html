<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML lang=zh><HEAD><TITLE>Fiber</TITLE>
<META content="text/html; charset=GBK" http-equiv=Content-Type>
<META content=text/css http-equiv=Content-Style-Type><LINK rel=stylesheet
type=text/css href="../style.css">
<META name=GENERATOR content="MSHTML 9.00.8112.16447"></HEAD>
<BODY>
<H1></H1>
<P></P>
<P></P>
<UL>
  <LI>
  <LI></LI></UL>
<P></P>
<P></P>
<H2></H2>
<UL>
  <LI><A href="sc_object.html"></A><FONT
  face=微软雅黑> </FONT></LI></UL>
<H2></H2>
<P></P><PRE><FONT face=微软雅黑>f = Fiber.new do
  n = 0
  loop do
    Fiber.yield(n)
    n += 1
  end
end

5.times do
  p f.resume
end

#=&gt; 0
    1
    2
    3
    4
</FONT></PRE>
<H2></H2>
<DL>
  <DT>
  <DD>
  <P></P>
  <P></P><PRE><FONT face=微软雅黑>a = nil
f = Fiber.new do |obj|
  a = obj
  :hoge
end

b = f.resume(:foo)
p a  #=&gt; :foo
p b  #=&gt; :hoge
</FONT></PRE>
  <DT>
  <DD>
  <P></P>
  <P></P>
  <P></P>
  <DD>
  <P><FONT
  face=微软雅黑>（这一段表示没看的太明白，可能翻译也有点偏差，如果有人看到这一段的话希望可以修正一下吧贩贩贩）</FONT></P>
  <DD>
  <P></P>
  <DD>
  <P><FONT face=微软雅黑>Switches the context to the parent of the current
  fiber.</FONT></P>
  <DD>
  <P><FONT face=微软雅黑>The yield method returns the provided arguments to
  Fiber#resume when switching the context.</FONT></P>
  <DD>
  <P><FONT face=微软雅黑>For arg, specify the object to pass to the parent of the
  current fiber.</FONT></P><PRE><FONT face=微软雅黑>a = nil
f = Fiber.new do
  a = Fiber.yield()
end

f.resume()
f.resume(:foo)

p a  #=&gt; :foo
</FONT></PRE></DD></DL>
<H2></H2>
<DL>
  <DT>
  <DD>
  <P></P>
  <P></P>
  <P></P><PRE><FONT face=微软雅黑>f = Fiber.new do
  Fiber.yield(:hoge)
end

a = f.resume()
f.resume()

p b  #=&gt; :hoge
</FONT></PRE></DD></DL>
<H6></H6></BODY></HTML>
