<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML lang=zh><HEAD><TITLE>Operator Expressions</TITLE>
<META content="text/html; charset=ISO-8859-1" http-equiv=Content-Type>
<META content=text/css http-equiv=Content-Style-Type><LINK rel=stylesheet 
type=text/css href="../style.css">
<META name=GENERATOR content="MSHTML 8.00.7601.17744"></HEAD>
<BODY>
<H1><FONT face=Verdana>&#36816;&#31639;&#31526;&#34920;&#36798;&#24335;</FONT></H1>
<UL>
  <LI><A href="#L000286">&#36171;&#20540;</A> 
  <UL>
    <LI><A href="#L000287">&#33258;&#36816;&#31639;</A> 
    <LI><A href="#L000288">&#22810;&#37325;&#36171;&#20540;</A> </LI></UL>
  <LI><A href="#L000290">and</A> 
  <LI><A href="#L000291">or</A> 
  <LI><A href="#L000292">not</A> 
  <LI><A href="#L000293">&#26465;&#20214;&#36816;&#31639;&#31526;</A> </LI></UL>
<P>&#23454;&#20363;&#65306;</P><PRE><FONT face=Verdana>1+2*3/4</FONT></PRE>
<P>&#20026;&#20102;&#32534;&#31243;&#26041;&#20415;&#65292;&#26377;&#20123;&#26041;&#27861;&#35843;&#29992;&#21644;&#25511;&#21046;&#32467;&#26500;&#26159;&#20197;&#36816;&#31639;&#31526;&#30340;&#24418;&#24335;&#20986;&#29616;&#30340;&#12290;Ruby&#21253;&#21547;&#20102;&#19979;&#21015;&#30340;&#36816;&#31639;&#31526;&#65306;</P><PRE><FONT face=Verdana> &#20248;&#20808;&#32423;     &#31526;&#21495;
   &#39640;       ::
      
     &#8593;           [ ]

     &#8593;           **
      
     &#8593;           -(&#21333;&#30446;&#36816;&#31639;&#31526;)  +(&#21333;&#30446;&#36816;&#31639;&#31526;)  !  ~
      
     &#8593;           *  /  %
      
     &#8593;           +  -
      
     &#8593;           &lt;&lt; &gt;&gt;
      
     &#8593;           &amp;
      
     &#8593;            |  ^
      
     &#8593;            &gt; &gt;=  &lt; &lt;=
      
     &#8593;            &lt;=&gt; ==  === !=  =~  !~
      
     &#8593;            &amp;&amp;
      
     &#8593;            ||
      
     &#8593;            ..  ...
      
     &#8593;            ?:(conditional operator)
      
     &#8593;            =(+=, -= ... )
      
     &#8593;            not
      
    &#20302;        and or</FONT></PRE>
<P>&#19978;&#34920;&#20174;&#12300;&#39640;&#12301;&#21040;&#12300;&#20302;&#12301;&#25353;&#36816;&#31639;&#31526;&#30340;&#20248;&#20808;&#24230;&#25490;&#21015;&#12290;&#22914;&#12300;&amp;&amp;&#12301;&#30340;&#20248;&#20808;&#24230;&#39640;&#20110;&#12300;||&#12301;&#65292;&#22914;&#19979;&#25152;&#31034;&#65306;</P><PRE><FONT face=Verdana>a &amp;&amp; b || c   # =&gt; (a &amp;&amp; b) || c
a || b &amp;&amp; c   # =&gt;  a || (b &amp;&amp; c)</FONT></PRE>
<P>&#22823;&#22810;&#25968;&#30340;&#36816;&#31639;&#31526;&#37117;&#26159;&#29305;&#27530;&#22411;&#24577;&#30340;&#26041;&#27861;&#35843;&#29992;&#65292;&#20294;&#26159;&#26377;&#20123;&#26159;&#23884;&#20837;&#35821;&#35328;&#20013;&#30340;&#36816;&#31639;&#31526;&#65292;&#22240;&#32780;&#26080;&#27861;&#37325;&#26032;&#23450;&#20041;&#12290;</P>
<UL>
  <LI>
  <P>&#21487;&#37325;&#26032;&#23450;&#20041;&#36816;&#31639;&#31526;&#65288;&#26041;&#27861;&#35843;&#29992;&#65289;</P>
  <P>+@ &#21644; -@ &#20195;&#34920;&#19968;&#20803;&#36816;&#31639;&#31526; + &#21644; -&#65288;&#30446;&#27979;&#26159;&#33258;&#22686;&#33258;&#20943;&#36816;&#31639;&#31526;&#65289;&#65292;&#22312;&#26041;&#27861;&#23450;&#20041;&#30340;&#24773;&#20917;&#19979;&#20351;&#29992;&#36825;&#31181;&#34920;&#31034;&#27861;&#12290;</P><PRE><FONT face=Verdana>|  ^  &amp;  &lt;=&gt;  ==  ===  =~  &gt;   &gt;=  &lt;   &lt;=   &lt;&lt;  &gt;&gt;
+  -  *  /    %   **   ~   +@  -@  [ ]  [ ]=  `</FONT></PRE>
  <LI>
  <P>&#19981;&#21487;&#37325;&#26032;&#23450;&#20041;&#36816;&#31639;&#31526;&#65288;&#25511;&#21046;&#32467;&#26500;&#65289;</P>
  <P>&#22797;&#21512;&#36816;&#31639;&#31526;&#65288;&#33258;&#36816;&#31639;&#36816;&#31639;&#31526;!= &#21644; !~&#65289;&#26080;&#27861;&#37325;&#26032;&#23450;&#20041;&#12290;</P><PRE><FONT face=Verdana>=  ?:  ..  ...  !  not  &amp;&amp;  and  ||  or  ::</FONT></PRE></LI></UL>
<H2><A name=L000286>&#36171;&#20540;</A></H2>
<P>&#23454;&#20363;&#65306;</P><PRE><FONT face=Verdana>foo = bar
foo[0] = bar
foo.bar = baz</FONT></PRE>
<P>&#35821;&#27861;&#65306;</P><PRE><FONT face=Verdana>&#21464;&#37327; '=' &#34920;&#36798;&#24335;
&#24120;&#37327; '=' &#34920;&#36798;&#24335;
&#34920;&#36798;&#24335; '['&#34920;&#36798;&#24335;..']' '=' &#34920;&#36798;&#24335;
&#34920;&#36798;&#24335; '.' &#26631;&#35782;&#31526; '=' &#34920;&#36798;&#24335;</FONT></PRE>
<P>&#36171;&#20540;&#34920;&#36798;&#24335;&#26159;&#29992;&#26469;&#23545;&#21464;&#37327;&#20043;&#31867;&#30340;&#23545;&#35937;&#36827;&#34892;&#36171;&#20540;&#30340;&#35821;&#21477;&#65292;&#36171;&#20540;&#20063;&#21487;&#20197;&#24403;&#20316;&#21306;&#22495;&#21464;&#37327;&#25110;&#24120;&#37327;&#30340;&#22768;&#26126;&#65292;&#20294;&#26159;&#36171;&#20540;&#34920;&#36798;&#24335;&#30340;&#24038;&#26041;&#24517;&#39035;&#20026;&#19979;&#21015;&#20854;&#20013;&#20043;&#19968;&#65306;</P>
<UL>
  <LI>
  <P>&#21464;&#37327;</P><PRE><FONT face=Verdana>&#21464;&#37327; '=' &#34920;&#36798;&#24335;</FONT></PRE>
  <P>&#33509;&#26159;&#24038;&#26041;&#20026;&#21464;&#37327;&#65292;&#21017;&#23558;&#34920;&#36798;&#24335;&#20043;&#20540;&#20195;&#20837;&#21464;&#37327;&#20013;&#12290;</P>
  <LI>
  <P>&#25968;&#32452;&#35843;&#29992;</P><PRE><FONT face=Verdana>&#34920;&#36798;&#24335;1 '[' &#34920;&#36798;&#24335;2 ... ']' '=' &#34920;&#36798;&#24335;N</FONT></PRE></LI></UL>
<DIV style="MARGIN-RIGHT: 0px" dir=ltr>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
&#35745;&#31639;&#34920;&#36798;&#24335;1&#33719;&#21462;&#23545;&#35937;&#65292;&#20351;&#29992;&#34920;&#36798;&#24335;2&#33267;&#34920;&#36798;&#24335;N&#20316;&#20026;&#35843;&#29992;&#12300;[ ]=&#12301;&#26041;&#27861;&#30340;&#21442;&#25968;&#12290; </DIV>
<UL>
  <LI><PRE><FONT face=Verdana>class C
  def initialize
    @ary = [0,1,2,3,4,5,6,7]
  end
  def [ ](i)
    @ary[i * 2]
  end
  def [ ]=( i, v )
    @ary[i * 2] = v
  end
end
c = C.new
p c[3]      # converted to c.[]( 3 ); result is 6
p c[3] = 1  # converted to c.[]=(3,1); result is 1</FONT></PRE>
  <LI>
  <P>&#23646;&#24615;&#35843;&#29992;</P><PRE><FONT face=Verdana>&#34920;&#36798;&#24335;1 '.' &#26631;&#35782;&#31526; '=' &#34920;&#36798;&#24335;2</FONT></PRE></LI></UL>
<DIV>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &#35745;&#31639;&#34920;&#36798;&#24335;1&#33719;&#21462;&#23545;&#35937;&#65292;&#29992;&#34920;&#36798;&#24335;2&#20316;&#20026;&#35843;&#29992;&#12300;&#26631;&#35782;&#31526;=&#12301;&#26041;&#27861;&#30340;&#21442;&#25968;&#12290;</DIV>
<UL>
  <LI><PRE><FONT face=Verdana>class C
  def foo
    @foo
  end
  def foo=( v )
    @foo = v
  end
end
c = C.new
c.foo = 5   # converted to c.foo=( 5 )
p c.foo     # =&gt; 5</FONT></PRE>
  <P>&#23646;&#24615;&#21516;&#26679;&#21487;&#20197;&#29992; <A href="sc_module.html#L001113">attr_accessor</A> &#26469;&#23450;&#20041;&#12290;</P>
  <LI><PRE><FONT face=Verdana>class C
  attr_accessor :foo
end
c = C.new
c.foo = 5   # converted to c.foo=( 5 )
p c.foo     # =&gt; 5</FONT></PRE></LI></UL>
<H3><FONT face=Verdana>&#33258;&#36816;&#31639;</FONT></H3>
<P>&#23454;&#20363;&#65306;</P><PRE><FONT face=Verdana>foo += 12       # foo = foo + 12
foo *= 3        # foo = foo * 3</FONT></PRE>
<P>&#35821;&#27861;&#65306;</P><PRE><FONT face=Verdana>&#34920;&#36798;&#24335;1 op= &#34920;&#36798;&#24335;2 # &#34920;&#36798;&#24335;1&#26159;&#21491;&#26041;&#36171;&#20540;&#30340;&#19968;&#37096;&#20998;&#12290;<BR></FONT></PRE>
<P>op &#20195;&#34920;&#19979;&#38754;&#30340;&#36816;&#31639;&#31526;&#65292;&#36816;&#31639;&#31526;&#21644; = &#20043;&#38388;&#19981;&#21487;&#20197;&#26377;&#38388;&#38548;&#12290;</P><PRE><FONT face=Verdana>+, -, *, /, %, **, &amp;, |, ^, &lt;&lt;, &gt;&gt;, &amp;&amp;, ||</FONT></PRE>
<P>&#22312;&#22810;&#25968;&#30340;&#24773;&#20917;&#19979;&#65292;&#33258;&#36816;&#31639;&#35299;&#35835;&#20026;&#65306;</P><PRE><FONT face=Verdana>&#34920;&#36798;&#24335;1 = &#34920;&#36798;&#24335;1 op &#34920;&#36798;&#24335;2</FONT></PRE>
<H3><FONT face=Verdana>&#22810;&#37325;&#36171;&#20540;</FONT></H3>
<P>&#23454;&#20363;&#65306;</P><PRE><FONT face=Verdana>foo, bar, baz = 1, 2, 3
foo, = list( )
foo, *rest = list2( )</FONT></PRE>
<P>&#35821;&#27861;&#65306;</P><PRE><FONT face=Verdana>&#34920;&#36798;&#24335; [',' [ &#34920;&#36798;&#24335; ',' ... ] ['*' [ &#34920;&#36798;&#24335; ]]] = &#34920;&#36798;&#24335; [, &#34920;&#36798;&#24335; ... ]['*' &#34920;&#36798;&#24335; ]
'*' [ &#34920;&#36798;&#24335; ] = &#34920;&#36798;&#24335; [, &#34920;&#36798;&#24335; ... ]['*' &#34920;&#36798;&#24335; ]</FONT></PRE>
<P>&#22810;&#37325;&#36171;&#20540;&#23545;&#22810;&#37325;&#34920;&#36798;&#24335;&#25110;&#25968;&#32452;&#36827;&#34892;&#36171;&#20540;&#12290;&#24038;&#26041;&#30340;&#25152;&#26377;&#34920;&#36798;&#24335;&#24517;&#39035;&#26159;&#21487;&#20197;&#25191;&#34892;&#36171;&#20540;&#25805;&#20316;&#30340;&#34920;&#36798;&#24335;&#12290;&#33509;&#26159;&#21491;&#26041;&#21482;&#26377;&#19968;&#20010;&#34920;&#36798;&#24335;&#65292;&#21017;&#23558;&#35813;&#34920;&#36798;&#24335;&#20043;&#20540;&#36716;&#20026;&#25968;&#32452;&#65292;&#22312;&#23558;&#25968;&#32452;&#20013;&#30340;&#20803;&#32032;&#20381;&#27425;&#36171;&#20540;&#32473;&#24038;&#36793;&#30340;&#34920;&#36798;&#24335;&#12290;&#33509;&#25968;&#32452;&#30340;&#20803;&#32032;&#25968;&#37327;&#22810;&#20110;&#24038;&#26041;&#30340;&#34920;&#36798;&#24335;&#25968;&#37327;&#65292;&#22810;&#20313;&#30340;&#20803;&#32032;&#21017;&#26080;&#35270;&#65292;&#33509;&#26159;&#25968;&#32452;&#30340;&#20803;&#32032;&#25968;&#37327;&#36739;&#23569;&#65292;&#21017;&#22810;&#20313;&#30340;&#34920;&#36798;&#24335;&#21017;&#20195;&#20837;nil&#12290;</P>
<P>&#22312;&#24038;&#26041;&#26368;&#21518;&#19968;&#20010;&#34920;&#36798;&#24335;&#21069;&#38754;&#21152;&#19978; * &#65292;&#21017;&#20250;&#23558;&#21491;&#26041;&#22810;&#20313;&#30340;&#20803;&#32032;&#36716;&#20026;&#25968;&#32452;&#20195;&#20837;&#20854;&#20013;&#65292;&#33509;&#27809;&#26377;&#22810;&#20313;&#30340;&#20803;&#32032;&#65292;&#21017;&#20195;&#20837;&#31354;&#25968;&#32452;&#12290;</P><PRE><FONT face=Verdana>foo, bar  = [1, 2]      # foo = 1; bar = 2
foo, bar  = 1, 2        # foo = 1; bar = 2
foo, bar  = 1            # foo = 1; bar = nil
foo, bar  = 1, 2, 3     # foo = 1; bar = 2
foo       = 1, 2, 3      # foo = [1, 2, 3]
*foo      = 1, 2, 3     # foo = [1, 2, 3]
foo, *bar = 1, 2, 3    # foo = 1; bar = [2, 3]</FONT></PRE>
<H2><A name=L000290>and</A></H2>
<P>&#23454;&#20363;&#65306;</P><PRE><FONT face=Verdana>test &amp;&amp; set
test and set</FONT></PRE>
<P>&#35821;&#27861;&#65306;</P><PRE><FONT face=Verdana>&#34920;&#36798;&#24335; '&amp;&amp;' &#34920;&#36798;&#24335;
&#34920;&#36798;&#24335; and &#34920;&#36798;&#24335;</FONT></PRE>
<P>&#20808;&#35745;&#31639;&#24038;&#36793;&#30340;&#34920;&#36798;&#24335;&#65292;&#33509;&#32467;&#26524;&#20026; true&#21017;&#25509;&#30528;&#35745;&#31639;&#21491;&#36793;&#12290;and &#19982; &amp;&amp; &#20316;&#29992;&#30456;&#21516;&#65292;&#20294;&#26159;&#20248;&#20808;&#24230;&#36739;&#20302;&#12290;</P>
<H2><A name=L000291>or</A></H2>
<P>&#23454;&#20363;&#65306;</P><PRE><FONT face=Verdana>demo || die
demo or die</FONT></PRE>
<P>&#35821;&#27861;&#65306;</P><PRE><FONT face=Verdana>&#34920;&#36798;&#24335; '||' &#34920;&#36798;&#24335;
&#34920;&#36798;&#24335; or &#34920;&#36798;&#24335;</FONT></PRE>
<P>&nbsp;</P>
<P>&#20808;&#35745;&#31639;&#24038;&#36793;&#30340;&#34920;&#36798;&#24335;&#65292;&#33509;&#32467;&#26524;&#20026; false&#21017;&#25509;&#30528;&#35745;&#31639;&#21491;&#36793;&#12290;or &#19982; || &#20316;&#29992;&#30456;&#21516;&#65292;&#20294;&#26159;&#20248;&#20808;&#24230;&#36739;&#20302;&#12290;</P>
<H2><A name=L000292>not</A></H2>
<P>&#23454;&#20363;&#65306;</P><PRE><FONT face=Verdana>! me
not me
i != you</FONT></PRE>
<P>&#35821;&#27861;&#65306;</P><PRE><FONT face=Verdana>'!' &#34920;&#36798;&#24335;
not &#34920;&#36798;&#24335;</FONT></PRE>
<P>&#33509;&#34920;&#36798;&#24335;&#20043;&#20540;&#20026; true&#65292;&#21017;&#36820;&#22238; false&#65307;&#33509;&#34920;&#36798;&#24335;&#20043;&#20540;&#20026; false&#65292;&#21017;&#36820;&#22238; true&#12290;</P>
<P>&#20063;&#21487;&#20197;&#29992;&#19979;&#38754;&#30340;&#35821;&#27861;&#65306;</P><PRE><FONT face=Verdana>&#34920;&#36798;&#24335; '!=' &#34920;&#36798;&#24335;          # same as !(&#34920;&#36798;&#24335; == &#34920;&#36798;&#24335;)
&#34920;&#36798;&#24335; '!~' &#34920;&#36798;&#24335;          # same as !(&#34920;&#36798;&#24335; =~ &#34920;&#36798;&#24335;)</FONT></PRE>
<H2><A name=L000293>&#26465;&#20214;&#36816;&#31639;&#31526;</A></H2>
<P>&#23454;&#20363;&#65306;</P><PRE><FONT face=Verdana>obj == 1 ? foo : bar</FONT></PRE>
<P>&#35821;&#27861;&#65306;</P><PRE><FONT face=Verdana>&#34920;&#36798;&#24335;1 ? &#34920;&#36798;&#24335;2 : &#34920;&#36798;&#24335;3</FONT></PRE>
<P>&#20381;&#29031;&#34920;&#36798;&#24335;1&#30340;&#35745;&#31639;&#32467;&#26524;&#65292;&#36873;&#25321;&#35201;&#36820;&#22238;&#34920;&#36798;&#24335;2&#25110;&#34920;&#36798;&#24335;3<SPAN style="FONT-FAMILY: monospace"><FONT 
face=Verdana>&#12290;&#30456;&#24403;&#20110;&#65306;</FONT></SPAN></P><PRE><FONT face=Verdana>if &#34920;&#36798;&#24335;1 then &#34920;&#36798;&#24335;2 else &#34920;&#36798;&#24335;3 end</FONT></PRE>
<H6>&nbsp;</H6></BODY></HTML>
