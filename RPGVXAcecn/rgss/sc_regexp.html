<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML lang=en><HEAD><TITLE>Regexp</TITLE>
<META content="text/html; charset=ISO-8859-1" http-equiv=Content-Type>
<META content=text/css http-equiv=Content-Style-Type><LINK rel=stylesheet 
type=text/css href="../style.css">
<META name=GENERATOR content="MSHTML 9.00.8112.16447"></HEAD>
<BODY>
<H1>Regexp &#27491;&#35268;&#34920;&#36798;&#24335;&#31867;</H1>
<P><A href="appendix01.html">&#27491;&#35268;&#34920;&#36798;&#24335;</A>&nbsp;&#30340;&#31867;&#65292;&#35814;&#32454;&#35831;&#21442;&#32771; <A 
href="syntax03.html#L000274">&#27491;&#35268;&#34920;&#36798;&#24335;</A>&nbsp;&#12290;</P>
<H2>&#36229;&#31867;</H2>
<UL>
  <LI><A href="sc_object.html">Object &#29289;&#20214;&#31867;</A> </LI></UL>
<H2>&#31867;&#26041;&#27861;</H2>
<DL>
  <DT><A name=L001314>Regexp.last_match</A> 
  <DD>
  <P>&#36820;&#22238;&#22312;&#24403;&#21069;&#20316;&#29992;&#22495;&#20013;&#19978;&#27425;&#21305;&#37197;&#25104;&#21151;&#27491;&#35268;&#34920;&#36798;&#24335; <A href="sc_matchdata.html">MatchData 
  &#21305;&#37197;&#31867;</A>&nbsp;&#29289;&#20214;&#65292;&#19982;&#35843;&#29992; <A href="s_variables.html#L000428">$~</A> &#30456;&#24403;&#12290;</P><PRE>/(.)(.)/ =~ "ab"
p Regexp.last_match      # =&gt; #&lt;MatchData:0x4599e58&gt;
p Regexp.last_match[0]   # =&gt; "ab"
p Regexp.last_match[1]   # =&gt; "a"
p Regexp.last_match[2]   # =&gt; "b"
p Regexp.last_match[3]   # =&gt; nil
</PRE>
  <DT>Regexp.last_match([<VAR>nth</VAR>]) 
  <DD>
  <P>&#33509;&#25972;&#25968; <VAR>nth</VAR> &#20026; 0&#65292;&#36820;&#22238;&#21305;&#37197;&#23383;&#31526;&#20018;&#65288;<A 
  href="s_variables.html#L000427">$&amp;</A>&#65289;&#12290;&#21542;&#21017;&#36820;&#22238;&#21305;&#37197;&#31532; <VAR>nth</VAR> &#32452;&#25324;&#21495;&#30340;&#23376;&#23383;&#31526;&#20018;&#65288;<A 
  href="s_variables.html#L000432">$1</A>, <A 
  href="s_variables.html#L000433">$2</A>, &#65289;&#12290;&#33509;&#27809;&#26377;&#23545;&#24212;&#30340;&#25324;&#21495;&#25110;&#35813;&#32452;&#25324;&#21495;&#27809;&#26377;&#21305;&#37197;&#25104;&#21151;&#65292;&#21017;&#36820;&#22238; nil&#12290;</P><PRE>/(.)(.)/ =~ "ab"
p Regexp.last_match      # =&gt; #&lt;MatchData:0x4599e58&gt;
p Regexp.last_match(0)   # =&gt; "ab"
p Regexp.last_match(1)   # =&gt; "a"
p Regexp.last_match(2)   # =&gt; "b"
p Regexp.last_match(3)   # =&gt; nil
</PRE>
  <P>&#19981;&#24102;&#21442;&#25968;&#30340; Regexp.last_match&#65292;&#24403;&#25972;&#20010;&#27491;&#35268;&#34920;&#36798;&#24335;&#21305;&#37197;&#22833;&#36133;&#26102;&#20250;&#36820;&#22238; nil&#65292;&#22240;&#27492; last_match[1] &#30340;&#26684;&#24335;&#20250;&#25243;&#20986; <A 
  href="s_exceptions.html#NameError">NameError&#65288;&#24322;&#24120;&#65306;&#21517;&#31216;&#38169;&#35823;&#65289;</A> &#24322;&#24120;&#65292;&#30456;&#21453;&#30340; last_match(1) 
  &#20250;&#36820;&#22238; nil&#12290;</P></DD></DL>
<H2>&#26041;&#27861;</H2>
<DL>
  <DT><VAR>self</VAR> =~ <VAR>string</VAR> 
  <DT><VAR>self</VAR> === <VAR>string</VAR> 
  <DD>
  <P>&#23558; string &#23383;&#31526;&#20018;&#19982;&#27491;&#35268;&#34920;&#36798;&#24335;&#36827;&#34892;&#21305;&#37197;&#12290;&#33509;&#21442;&#25968;&#38750;&#23383;&#31526;&#20018;&#25110;&#21305;&#37197;&#22833;&#36133;&#65292;&#21017;&#36820;&#22238; false&#65307;&#33509;&#21305;&#37197;&#25104;&#21151;&#65292;&#36820;&#22238; true&#12290;</P>
  <P>&#21305;&#37197;&#30340;&#20449;&#24687;&#20648;&#23384;&#20110;&#20869;&#24314;&#21464;&#37327; <A href="s_variables.html#L000428">$~</A>&nbsp;&#20013;&#12290;</P>
  <P>&#33509; <VAR>string</VAR> &#38750; nil &#20063;&#38750; <A href="sc_string.html">String &#23383;&#31526;&#20018;&#31867;</A> &#23545;&#35937;&#65292;&#25243;&#20986; 
  <A href="s_exceptions.html#TypeError">TypeError&#65288;&#24322;&#24120;&#65306;&#31867;&#22411;&#38169;&#35823;&#65289;</A> &#24322;&#24120;&#12290;</P>
  <DT><A name=L001322>match(<VAR>str</VAR>)</A> 
  <DD>
  <P>&#30456;&#24403;&#20110; self=~str&#65292;&#21482;&#26159;&#19981;&#20250;&#36820;&#22238; <A href="sc_matchdata.html">MatchData &#21305;&#37197;&#31867;&#65289;</A> 
  &#29289;&#20214;&#12290;&#33509;&#21305;&#37197;&#22833;&#36133;&#21017;&#36820;&#22238; nil&#12290;</P>
  <P>&#33509;&#26159;&#21482;&#38656;&#35201;&#29992;&#27491;&#35268;&#34920;&#36798;&#24335;&#21305;&#37197;&#23376;&#23383;&#31526;&#20018;&#26102;&#65292;&#21487;&#20197;&#36825;&#26679;&#20351;&#29992; match(str) &#65306;</P><PRE>bar = /foo(.*)baz/.match("foobarbaz").to_a[1]

_, foo, bar, baz = */(foo)(bar)(baz)/.match("foobarbaz")
</PRE>
  <P>to_a &#21017;&#21487;&#20197;&#20801;&#35768;&#20986;&#29616;&#21305;&#37197;&#22833;&#36133;&#30340;&#24773;&#20917;&#12290;</P>
  <DT>to_s 
  <DD>
  <P>&#29983;&#25104;&#24182;&#36820;&#22238;&#27491;&#35268;&#34920;&#36798;&#24335;&#30340;&#23383;&#31526;&#20018;&#34920;&#36798;&#24335;&#12290;&#26082;&#20351;&#23558;&#36820;&#22238;&#30340;&#23383;&#31526;&#20018;&#23884;&#20837;&#22312;&#21478;&#19968;&#20010;&#27491;&#35268;&#34920;&#36798;&#24335;&#20013;&#65292;&#20381;&#28982;&#20445;&#30041;&#20854;&#24847;&#20041;&#12290;</P><PRE>re = /foo|bar|baz/i
p re.to_s       # =&gt; "(?i-mx:foo|bar|baz)"
p /#{re}+/o     # =&gt; /(?i-mx:foo|bar|baz)+/
</PRE>
  <P>&#28982;&#32780;&#65292;&#19968;&#20123;&#21253;&#21547;&#21518;&#20301;&#24341;&#29992;&#30340;&#27491;&#35268;&#34920;&#36798;&#24335;&#21487;&#33021;&#20250;&#20986;&#29616;&#24847;&#24819;&#19981;&#21040;&#30340;&#24773;&#20917;&#12290;&#36825;&#26159;&#22240;&#20026;&#30446;&#21069;&#21518;&#21521;&#24341;&#29992;&#21482;&#21487;&#20197;&#29992;&#25968;&#23383;&#26469;&#25351;&#23450;&#12290;</P><PRE>re = /(foo|bar)\1/      # # \1 is foo or bar
p /(baz)#{re}/          # \1 is baz

# =&gt; /(baz)(?-mix:(foo|bar)\1)/
</PRE></DD></DL>
<H6></H6></BODY></HTML>
